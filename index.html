<html>
<body>
  <canvas id="the_canvas" width="760" height="400"></canvas>
  <script>
  var canvas = document.getElementById('the_canvas');
  var ctx = canvas.getContext('2d');
  var moveRight = true;
  var handleKeyDown = function(evt) {
    if (evt.keyCode === 37) {
      //Left arrow was pressed
      moveRight = false;
    } else if (evt.keyCode === 39) {
      //Left arrow was pressed
      moveRight = true;
    }
  }
  //don't worry about what window is,
  //just realize that we are telling
  //the browser to call our handleKeyDown
  //function defined above when a user
  //presses a key
  window.addEventListener('keydown',handleKeyDown,true);
  var x = 0;
  var draw = function() {
    //clear background
    ctx.fillStyle = "#000080";
    ctx.fillRect(0,0, canvas.width, canvas.height);
    if (moveRight === true) {
      //move the square to the right
      x = x + 1;
    } else {
      //move the square to the left
      x = x - 1;
    }
    //make sure it doesn't go off the screen though
    if (x > 1000) {
      x %= canvas.width;
      x = -100;
    }

    for (i=0;
      i<7;
      i++
    ){
      if (i%2!=0
      )
      {
        ctx.fillStyle = "red";
        ctx.fillRect (x-900,     400-(30.77*i), 1000, 30.77);}
        else {
          ctx.fillStyle = "white";
          ctx.fillRect (800-x, 400-(30.77*i), 1000, 30.77);
        }
    //nested ifs start
    for (z=0;
         z<7;
         z++)
         {
           if (z%2!=0)
             {
        ctx.fillStyle = "white";
        ctx.fillRect (x-456, 0+30.77*z, 456, 30.77);}
        else {
          ctx.fillStyle = "red";
          ctx.fillRect (760-x/2, 0+30.77*z, 456, 30.77);}
      //  }
      };
      //nested ifs end
      };
    }
    setInterval(draw, 2);


  </script>
</body>
</html>
